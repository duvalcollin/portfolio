<!DOCTYPE HTML>
<HTML>

<HEAD>
	<TITLE>Conways Game of Life</TITLE>
	<META charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<META name="author" content="Collin Duval" />
	<SCRIPT type="text/javascript">
		const ARRAYSIZE = 11;
		var myArray = [
			[1, 2, 3],
			[4, 5, 6],
			[7, 8, 9],
		];
		// Parameter size: How many rows & columns will exist in the array
		function createArray(size) {
			myArray = [];
			for (let rowCounter = 0; rowCounter < size; rowCounter++) {
				let row = [];
				for (let columnCounter = 0; columnCounter < size; columnCounter++) {
					//row.push((rowCounter*size)+columnCounter+1);
					if (rowCounter == 0) row.push(1);
					else if (rowCounter == size - 1) row.push(1);
					else if (columnCounter == 0) row.push(1);
					else if (columnCounter == size - 1) row.push(1);
					else row.push(0);
				}
				myArray.push(row);
			}

			// Given cell #55 (base 1), size 8:
			// column = ((cell-1) % size) // column 6
			// row = Math.floor((cell-1) / size) // row 6
		}
		function displayArray() {
			var outputString = "<TABLE border=\"1\">";
			for (let rowCounter = 0; rowCounter < myArray.length; rowCounter++) {
				outputString += "<TR>";
				for (let columnCounter = 0; columnCounter < myArray[rowCounter].length; columnCounter++) {
					let bgStyle = "style=\"color:white; background:";
					if ((myArray[rowCounter][columnCounter]) == 0) bgStyle += "red;\"";
					else bgStyle += "black;\"";
					outputString += "<TD width=\"20\" height=\"20\" " + bgStyle + ">" + "</TD>";
				}
				outputString += "</TR>";
			}
			outputString += "</TABLE>";
			document.getElementById("output").innerHTML = outputString;
		}
		function onTimer() {
			var tempArray = myArray.slice();
			for (let row = 0; row < ARRAYSIZE - 0; row++) {
				for (let col = 0; col < ARRAYSIZE - 0; col++) {
					let n = 0;
					if (row > 0 && col > 0 && tempArray[row - 1][col - 1]) n++;
					if (row > 0 && tempArray[row - 1][col]) n++;
					if (row > 0 && col < ARRAYSIZE - 1 && tempArray[row - 1][col + 1]) n++;
					if (col > 0 && tempArray[row][col - 1]) n++;
					if (col < ARRAYSIZE - 1 && tempArray[row][col + 1]) n++;
					if (row < ARRAYSIZE - 1 && col > 0 && tempArray[row + 1][col - 1]) n++;
					if (row < ARRAYSIZE - 1 && tempArray[row + 1][col]) n++;
					if (row < ARRAYSIZE - 1 && col < ARRAYSIZE - 1 && tempArray[row + 1][col + 1]) n++;

					if (tempArray[row][col] == 0) {
						if (n == 3) myArray[row][col] = 1;
					} else {
						if (n < 2 || n > 3) myArray[row][col] = 0;
					}

				}
			}

			displayArray();
		}
		function main() {
			createArray(ARRAYSIZE);
			displayArray();
			setInterval(onTimer, 1000);
		}
	</SCRIPT>
</HEAD>

<BODY onLoad="main();">
	<!--TABLE border="1">
<TR><TH>Column 1</TH><TH>Column 2</TH><TH>Column 3</TH></TR>
<TR><TD>a</TD><TD>b</TD><TD>c</TD></TR>
<TR><TD>d</TD><TD>e</TD><TD>f</TD></TR>
<TR><TD>g</TD><TD>h</TD><TD>i</TD></TR>
</TABLE-->
	<DIV id="output"></DIV>
</BODY>

</HTML>